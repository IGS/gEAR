<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>gEAR dataset explorer</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">

    <!-- This is needed because mod_rewrite doesn't work well with relative paths.  This will need
        to be changed for any hosts where gEAR is not at the webserver root.
    -->
    <base href="/" />

    <link rel="stylesheet" href="css/gear-theme-purple.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css" />

    <!-- Fancy animation effects -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <link rel="stylesheet" href="css/common.v2.css" />

    <!--Page-specific CSS here -->
    <link rel="stylesheet" href="css/dataset_explorer.css" />
</head>
<body>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div id="main-layout-c" class="columns is-fullheight">
        <!--#include virtual="/include/primary_nav.html" -->
        <section id="main-c" class="column pl-0 pt-0">
            <!--#include virtual="/include/header_bar.html" -->
            <section id="content-c" class="m-3 container" data-nav-link="search_datasets">

                <div class="columns">
                    <div class="column is-fifth">

                        <div id="collection-management">
                            <p class="has-text-weight-semibold js-expandable-control">
                                <span>Collection management</span>
                                <span class="icon is-pulled-right">
                                    <i class="mdi mdi-minus"></i>
                                </span>
                            </p>
                            <hr class="my-2 has-background-grey-lighter">
                            <div id="collection-management-c" class="js-expandable-target mb-3">
                                <!--#include virtual="/include/dataset-collection-selector/dataset-collection-selector.html" -->
                                <div id="collection-actions-c" class="is-hidden">
                                    <div class="field has-addons js-collection-action-links my-0" role="group">
                                        <p class="control">
                                            <button id="btn-set-primary-collection" class="button is-small is-outlined is-info" data-tooltip-content="Make default collection everywhere">
                                                <span class="icon"><i class="mdi mdi-18px mdi-checkbox-marked-circle"></i></span>
                                            </button>
                                        </p>
                                        <p class="control">
                                            <button id="btn-rename-collection" class="button is-small is-outlined is-dark" data-tooltip-content="Rename collection title">
                                                <span class="icon"><i class="mdi mdi-18px mdi-pencil"></i></span>
                                            </button>
                                        </p>
                                        <p class="control">
                                            <button id="btn-rename-collection-permalink" class="button is-small is-outlined is-dark" data-tooltip-content="Rename collection permalink">
                                                <span class="icon"><i class="mdi mdi-18px mdi-link-edit"></i></span>
                                            </button>
                                        </p>
                                        <p class="control">
                                            <button id="btn-share-collection" class="button is-small is-outlined is-dark" data-tooltip-content="Get shareable link">
                                                <span class="icon"><i class="mdi mdi-18px mdi-share-variant"></i></span>
                                            </button>
                                        </p>
                                        <p class="control">
                                            <button id="btn-add-collection" class="button is-small is-outlined is-dark" data-tooltip-content="Create a new collection">
                                                <span class="icon"><i class="mdi mdi-18px mdi-plus"></i></span>
                                            </button>
                                        </p>
                                        <p class="control">
                                            <button id="btn-delete-collection" class="button is-small is-danger" data-tooltip-content="Delete this collection">
                                                <span class="icon"><i class="mdi mdi-18px mdi-minus"></i></span>
                                            </button>
                                        </p>
                                    </div>

                                    <div id="collection-visibility-c" class="field mt-1 is-hidden">
                                        <p class="label is-size-7">Toggle collection access</p>
                                        <!-- toggle switch --->
                                        <input id="collection-visibility" type="checkbox" class="switch is-small is-primary"/>
                                        <label for="collection-visibility" class="is-size-7"></label>
                                    </div>
                                    <hr class="my-2 has-background-grey-lighter">
                                </div>

                            </div>
                        </div>

                        <h4 id="title-filter-controls" class="title is-4">Filter controls</h4>

                        <!-- search field -->
                        <div class="js-trigger-dataset-search field">
                            <label class="label">Search by keyword</label>
                            <div class="control has-icons-right">
                                <input id="search-terms" class="input" type="text" placeholder="Keyword search">
                                <span class="icon is-hidden is-right is-clickable" id="search-clear">
                                    <i class="mdi mdi-close-circle"></i>
                                </span>
                            </div>
                        </div>

                        <div class="js-trigger-dataset-search field mt-1" id="filter-collection-container">
                            <p class="label is-size-7">Show from this collection only</p>
                            <!-- toggle switch --->
                            <input id="filter-only-in-collection" type="checkbox" class="switch is-small is-primary"/>
                            <label for="filter-only-in-collection" class="is-size-7">No</label>
                        </div>

                        <!-- filter options -->
                        <div class="js-trigger-dataset-search field">
                            <div id="controls-ownership" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold js-expandable-control">
                                    <span>Ownership</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target">
                                    <li class="js-all-selector js-selected">All</li>
                                    <li data-dbval="yours">Your datasets</li>
                                    <li data-dbval="group">Group-affiliated datasets</li>
                                    <li data-dbval="shared">Datasets shared with you</li>
                                    <li data-dbval="public">Public datasets</li>
                                </ul>
                            </div>
                        </div>

                        <div class="js-trigger-dataset-search field">
                            <div id="controls-organism" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold  js-expandable-control">
                                    <span>Organism</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target" id="organism-choices">
                                    <li class="js-all-selector js-selected">All</li>
                                    <!-- list built by js -->
                                </ul>
                            </div>
                        </div>

                        <div class="js-trigger-dataset-search field">
                            <div id="controls-dataset-type" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold  js-expandable-control">
                                    <span>Dataset type</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target" id="dataset-type-choices">
                                    <li class="js-all-selector js-selected">All</li>
                                    <li data-dbval="bulk-rnaseq">Bulk RNASeq</li>
                                    <li data-dbval="epiviz">Epigenetic (Epiviz)</li>
                                    <li data-dbval="microarray">Microarray</li>
                                    <li data-dbval="single-cell-rnaseq">Single-cell RNASeq</li>
                                    <li data-dbval="spatial">Spatial Transcriptomics</li>
                                    <!-- list built by js -->
                                </ul>
                            </div>
                        </div>

                        <div class="js-trigger-dataset-search field">
                            <div id="controls-date-added" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold  js-expandable-control">
                                    <span>Date added</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target js-choose-only-one">
                                    <li class="js-all-selector js-selected">Any time</li>
                                    <li data-dbval="week">Within last week</li>
                                    <li data-dbval="month">Within last month</li>
                                    <li data-dbval="year">Within last year</li>
                                </ul>
                            </div>
                        </div>

                    </div>

                    <div class="column is-four-fifths">

                        <!-- Count and view control -->
                        <section id="view-controls" class="level">
                            <div class="level-left">
                                <div class="level-item">
                                    <div class="field is-horizontal">
                                        <div class="field-label">
                                            <label class="label">View:</label>
                                        </div>
                                        <div class="field-body">
                                            <div class="buttons has-addons" role="group" aria-label="Gene cart list view preference">
                                                <button type="button" id="btn-table-view" class="js-view-btn button is-small is-gear-bg-secondary" aria-label="Table view" data-tooltip-content="Table view">
                                                    <span class="icon">
                                                        <i class="mdi mdi-18px mdi-table-column"></i>
                                                    </span>
                                                </button>
                                                <button type="button" id="btn-list-view-compact" class="js-view-btn button is-small is-dark" aria-label="Compact list view" data-tooltip-content="List view - Compact">
                                                    <span class="icon">
                                                        <i class="mdi mdi-18px mdi-format-list-bulleted"></i>
                                                    </span>
                                                </button>
                                                <button type="button" id="btn-list-view-expanded" class="js-view-btn button is-small is-dark" aria-label="Expanded list view" data-tooltip-content="List view - Expanded">
                                                    <span class="icon">
                                                        <i class="mdi mdi-18px mdi-window-maximize"></i>
                                                    </span>
                                                </button>
                                                <button type="button" id="btn-arrangement-view" class="js-view-btn button is-small is-dark is-hidden" aria-label="Collection arrangement view" data-tooltip-content="Collection arrangement view">
                                                    <span class="icon">
                                                        <i class="mdi mdi-18px mdi-drag"></i>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="js-trigger-dataset-search level-item">
                                    <label class="label mr-3">Sort by:</label>  <!-- .field.is-horizontal + .field-label scrunches the label up -->
                                    <div class="field">
                                        <div class="control">
                                            <div class="select is-small">
                                                <select name="sort-by" id="sort-by">
                                                    <option value="relevance">Relevance</option>
                                                    <option value="title">Dataset title</option>
                                                    <option value="date_added" selected>Date uploaded</option>
                                                    <option value="owner">Owner</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="level-right">
                                <div class="level-item">
                                    <div id="count-label-c" class="is-hidden">
                                        <span id="count-label">Showing <span id="result-range"></span> of <span id="result-count"></span> <span id="result-label"></span></span>
                                    </div>
                                </div>
                                <div class="level-item">
                                    <!-- ? May change to numbers if genecarts get too numerous -->
                                    <nav id="pagination-container" class="pagination is-small" role="navigation" aria-label="pagination">
                                    </nav>
                                </div>
                            </div>
                        </section> <!-- #view-controls -->

                        <div id="include-public-membership-c" class="js-trigger-dataset-search is-hidden field mt-1">
                            <p class="label is-size-7">For each dataset, also show membership in public dataset collections.</p>
                            <!-- toggle switch --->
                            <input id="include-public-membership" type="checkbox" class="switch is-primary"/>
                            <label for="include-public-membership">No</label>
                        </div>

                        <!-- results view -->
                        <section id="results-container">
                            <table id="results-table" class="table is-narrow is-striped is-fullwidth">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Title</th>
                                        <th>Access</th>
                                        <th>Organism</th>
                                        <th>Owner</th>
                                        <th>Type</th>
                                        <th>Date added</th>
                                        <th id="view-displays-header">Displays</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template id="results-table-view">
                                        <tr class="js-table-row">
                                            <td class="js-td-expand">
                                                <button class="button is-small js-expand-row" data-tooltip-content="Expand entry for more info and actions">
                                                    <span class="icon"><i class="mdi mdi-24px mdi-chevron-down"></i></span>
                                                </button>
                                            </td>
                                            <td class="js-display-title"></td>
                                            <td class="js-display-visibility"></td>
                                            <td class="js-display-organism"></td>
                                            <td class="js-display-owner"></td>
                                            <td class="js-display-dataset-type"></td>
                                            <td class="js-display-date-added"></td>
                                            <td class="js-view-displays-column">
                                                <a class="is-size-7 js-view-displays">
                                                    Add to Collection
                                                </a>
                                            </td>
                                        </tr>
                                        <tr class="js-table-row-expanded is-hidden">
                                            <td colspan=8></td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>

                            <div id="results-list-div" class="is-hidden">
                                <template id="results-list-view">
                                    <!-- parts filled in by js -->
                                    <div class="js-dataset-list-element">
                                        <div class="columns">
                                            <div class="column is-2">
                                                <!-- Preview image -->
                                                <figure class="image is-square">
                                                    <img>
                                                </figure>
                                                <div class="js-display-version js-display-visibility"></div>
                                                <div class="js-editable-version js-editable-visibility is-hidden">
                                                    <div class="field">
                                                        <p class="label">Access</p>
                                                        <!-- toggle switch --->
                                                        <input type="checkbox" class="switch is-primary"/>
                                                        <label></label>
                                                    </div>
                                                </div>
                                                <div class="js-display-version js-display-downloadable"></div>
                                                <div class="js-editable-version js-editable-downloadable is-hidden">
                                                    <div class="field">
                                                        <p class="label">Is downloadable</p>
                                                        <!-- toggle switch --->
                                                        <input type="checkbox" class="switch is-primary"/>
                                                        <label></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="column is-10">
                                                <!-- title section -->
                                                <div class="columns">
                                                    <div class="column is-11 py-0">
                                                        <div class="js-display-version js-display-title">
                                                            <p class="has-text-weight-bold"></p>
                                                        </div>
                                                        <div class="js-editable-version js-editable-title is-hidden">
                                                            <div class="field">
                                                                <span class="has-text-weight-semibold">Title</span>
                                                                <input type="text" class="input"/>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="column is-1 py-0">
                                                        <span class="is-clickable is-pulled-right js-expand-box icon"><i class="mdi mdi-arrow-expand"></i></span>
                                                    </div>
                                                </div>

                                                <!-- visibility/other metadata section -->
                                                <div class="columns is-size-7">
                                                    <!-- organism section -->
                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-organism">
                                                            <span class="has-text-weight-semibold">Organism</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-organism is-hidden">
                                                            <div class="field">
                                                                <label class="label">Organism</label>
                                                                <div class="control">
                                                                    <input class="input is-static" readonly>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-owner">
                                                            <span class="has-text-weight-semibold">Owner</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-owner is-hidden">
                                                            <div class="field">
                                                                <label class="label">Owner</label>
                                                                <div class="control">
                                                                    <input class="input is-static" readonly>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-dataset-type">
                                                            <span class="has-text-weight-semibold">Type</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-dataset-type is-hidden">
                                                            <div class="field">
                                                                <label class="label">Type</label>
                                                                <div class="control">
                                                                    <input class="input is-static" readonly>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-date-added">
                                                            <span class="has-text-weight-semibold">Added</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-date-added is-hidden">
                                                            <div class="field">
                                                                <label class="label">Added</label>
                                                                <div class="control">
                                                                    <input class="input is-static" readonly>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="columns is-size-7">
                                                    <!-- organism section -->
                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-annot-source">
                                                            <span class="has-text-weight-semibold">Annotation source</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-annot-source is-hidden">
                                                            <div class="field">
                                                                <label class="label">Annotation source</label>
                                                                <div class="control">
                                                                    <input class="input is-static" readonly>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-annot-version">
                                                            <span class="has-text-weight-semibold">Source version</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-annot-version is-hidden">
                                                            <div class="field">
                                                                <label class="label">Source version</label>
                                                                <div class="control">
                                                                    <input class="input is-static" readonly>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-pubmed-id">
                                                            <span class="has-text-weight-semibold">Pubmed ID</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-pubmed-id is-hidden">
                                                            <div class="field">
                                                                <label class="label">Pubmed ID</label>
                                                                <div class="control">
                                                                    <input class="input">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="column is-3 py-0">
                                                        <div class="js-display-version js-display-geo-id">
                                                            <span class="has-text-weight-semibold">GEO ID</span> <span></span>
                                                        </div>
                                                        <div class="js-editable-version js-editable-geo-id is-hidden">
                                                            <div class="field">
                                                                <label class="label">GEO ID</label>
                                                                <div class="control">
                                                                    <input class="input">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- preview + action buttons section -->
                                                <div class="columns is-size-7 my-0">
                                                    <div class="column is-9 py-0">
                                                        <div class="field has-addons js-action-links my-0" role="group">
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-view-dataset" data-tooltip-content="View in expression viewer">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-test-tube"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-view-projection-dataset" data-tooltip-content="View in projection tool">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-hexagon-multiple"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-view-displays" data-tooltip-content="View, add or remove displays from current collection">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-plus-minus-variant"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-danger js-delete-dataset" data-tooltip-content="Delete dataset">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-delete"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-download-dataset" data-tooltip-content="Download dataset as h5ad">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-download"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-share-dataset" data-tooltip-content="Get shareable link">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-share-variant"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-edit-dataset-permalink" data-tooltip-content="Edit permalink">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-link-edit"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-small is-outlined is-dark js-edit-dataset js-display-version" data-tooltip-content="Edit metadata">
                                                                    <span class="icon"><i class="mdi mdi-18px mdi-pencil"></i></span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <div class="js-analysis-dropdown dropdown">
                                                                    <div class="dropdown-trigger">
                                                                        <button class="button is-small" aria-haspopup="true" aria-controls="analysis-dropdown-menu">
                                                                        <span>Analysis tools</span>
                                                                        <span class="icon is-small">
                                                                            <i class="mdi mdi-chevron-down" aria-hidden="true"></i>
                                                                        </span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="dropdown-menu" role="menu">
                                                                        <div class="dropdown-content">
                                                                            <a class="dropdown-item js-dataset-curator" target="_blank">
                                                                                <p>Single-gene curator</p>
                                                                            </a>
                                                                            <a class="dropdown-item js-multigene-viewer" target="_blank">
                                                                                <p>Multi-gene curator</p>
                                                                            </a>
                                                                            <a class="dropdown-item js-compare-tool" target="_blank">
                                                                                <p>Comparison tool</p>
                                                                            </a>
                                                                            <a class="dropdown-item js-sc-workbench" target="_blank">
                                                                                <p>Single-cell analysis workbench</p>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </p>
                                                        </div>
                                                        <div class="field has-addons mt-2" role="group">
                                                            <p class="control">
                                                                <button class="button is-primary js-edit-dataset-save js-editable-version is-hidden">
                                                                    <span class="icon"><i class="mdi mdi-content-save-edit-outline"></i></span><span>Save edits</span>
                                                                </button>
                                                            </p>
                                                            <p class="control">
                                                                <button class="button is-outlined is-primary js-edit-dataset-cancel js-editable-version is-hidden">
                                                                    <span class="icon"><i class="mdi mdi-undo-variant"></i></span><span>Cancel edits</span>
                                                                </button>
                                                            </p>
                                                        </div>
                                                    </div> <!-- end .columns -->

                                                </div> <!-- end .columns -->

                                                <hr class="js-expandable-view is-hidden" />
                                                <div class="columns js-expandable-view is-hidden">
                                                    <!-- Long description section -->
                                                    <div class="column is-6 py-0">
                                                        <div class="js-display-version js-display-ldesc">
                                                            <p class="has-text-weight-semibold">Long description</p>
                                                            <p class="js-display-ldesc-text"></p>
                                                        </div>
                                                        <div class="js-editable-version js-editable-ldesc is-hidden">
                                                            <div class="field">
                                                                <label class="label">Long description</label>
                                                                <div class="control">
                                                                    <textarea class="textarea" rows="4"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- Added to collections section -->
                                                    <div class="column is-6 py-0 js-display-version js-found-in-collections">
                                                        <p class="js-found-in-collection-text has-text-weight-semibold">Found in these owned or highlighted collections</p>
                                                        <ul class="js-found-in-collections-list"></ul>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>


                                    </div> <!-- end .js-dataset-list-element -->
                                    <hr class="dataset-list-element-divider mb-2 has-background-grey-lighter" />
                                </template>
                            </div>
                        </section>

                        <nav id="below-pagination-container" class="pagination is-small is-pulled-right" role="navigation" aria-label="pagination">
                        </nav>

                        <div id="dataset-arrangement-c" class="is-hidden content">
                            <h4 class="title is-4">Instructions</h4>
                            <ol type="1">
                                <li>Drag to re-arrange the dataset displays in any order you wish.</li>
                                <li>This is a grid system. Tiles can be freely dragged anywhere on the grid.</li>
                                <li>Drag any edge or corner of a display to change its width or height.</li>
                                <li>Dragging or resizing below the bottom row will create a new row to work with.</li>
                                <li>Tiles have the potential to overlap (shown with a red label), and saving is disabled until all overlaps are resolved.</li>
                                <li>IMPORTANT - Click "Save" to save both the single- and multigene arrangements.</li>
                            </ol>
                            <div class="field">
                                <div class="control">
                                    <button type="button" id="btn-save-arrangement" class="button is-primary" data-tooltip-content="Save layout">
                                        <span class="icon"><i class="mdi mdi-content-save"></i></span>
                                        <span>Save</span>
                                    </button>
                                </div>
                            </div>
                            <h4 class="title is-4">Collection arrangement</h4>
                            <div class="notification is-info is-hidden" id="dataset-arrangement-loading-notification">
                                Loading arrangements...
                            </div>
                            <div id="dataset-arrangement-single-c" class="my-6">
                                <p class="subtitle is-5 is-underlined">Single-gene view</p>
                                <div class="notification is-warning is-light is-hidden" id="dataset-arrangement-single-no-displays-notification">
                                    There are no single-gene displays saved for this collection. You can add some by clicking the "View, add or remove displays from current collection" button (+/- icon) on any dataset.
                                </div>
                                <div id="dataset-arrangement-single" class="arrangement-grid"></div>
                            </div>
                            <div id="dataset-arrangement-multi-c" class="my-6">
                                <p class="subtitle is-5 is-underlined">Multi-gene view</p>
                                <div class="notification is-warning is-light is-hidden" id="dataset-arrangement-multi-no-displays-notification">
                                    There are no multi-gene displays saved for this collection. You can add some by clicking the "View, add or remove displays from current collection" button (+/- icon) on any dataset.
                                </div>
                                <div id="dataset-arrangement-multi" class="arrangement-grid"></div>
                            </div>
                            <template id="dataset-arrangement-tile-template">
                                <!-- support width and height expansion -->
                                <figure class="image js-sortable-tile m-2">
                                    <img class="js-sortable-tile-img" />
                                    <figcaption class="js-sortable-tile-title has-background-primary-light"></figcaption>
                                </figure>
                            </template>
                        </div>

                    </div>
                </div>

            </section>
        </section>
    </div>

    <template id="tmpl-displays-modal">
        <div class="js-displays-modal modal">
            <div class="modal-background"></div>
            <div class="modal-content">
                <div class="box has-background-white-ter">
                    <h5 class="title is-5"></h5>
                    <div class="js-modal-user-displays columns is-multiline">
                        <img>
                    </div>
                    <div class="js-modal-owner-displays columns is-multiline">
                        <img>
                    </div>
                </div>
            </div>
            <button class="modal-close is-large has-background-link" aria-label="close"></button>
        </div>
    </template>

    <template id="tmpl-displays-modal-display">
        <div class="js-modal-display column is-3 p-1">
            <figure class="image is-4by3">
                <img alt="Saved display">
                <span class="js-modal-display-type tag is-relative"></span>
                <div class="control is-pulled-right">
                    <div class="tags has-addons js-collection-add-remove-group">
                        <button class="button tag is-light js-collection-remove-display" data-tooltip-content="Remove last instance of this display from current collection">
                            <span class="icon"><i class="mdi mdi-18px mdi-minus-box-multiple"></i></span>
                        </button>
                        <span class="tag is-light js-collection-display-count"></span>
                        <button class="button tag is-dark js-collection-add-display" data-tooltip-content="Add an instance of this display to current collection">
                            <span class="icon"><i class="mdi mdi-18px mdi-plus-box-multiple"></i></span>
                        </button>
                    </div>
                </div>
            </figure>
        </div>
    </template>


    <!-- Promise based HTTP client for the browser  -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script src="js/vendor/js.cookie.js"></script>

    <!-- Draggable and resizable elements -->
    <script src="https://unpkg.com/interactjs@1.10.27/dist/interact.min.js"></script>

    <!-- Floating UI for tooltips, popovers, etc -->
    <script src="https://cdn.jsdelivr.net/npm/@floating-ui/core@1.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.5.3"></script>

    <!-- Page-specific JS file here -->
    <script type="module" src="js/dataset_explorer.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-59916932-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-59916932-1');
    </script>
</body>
</html>
