<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>gEAR gene collection manager</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">

    <!-- This is needed because mod_rewrite doesn't work well with relative paths.  This will need
        to be changed for any hosts where gEAR is not at the webserver root.
    -->
    <base href="/" />

    <link rel="stylesheet" href="css/gear-theme-purple.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.5.95/css/materialdesignicons.min.css" />

    <!-- Fancy animation effects -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <!-- Ensures we always get a new version (during our current active development cycles) -->
    <script>document.write('<link rel="stylesheet" href="css/common.v2.' + (new Date()).getTime() + '.css" />');</script>

    <!--Page-specific CSS here -->
    <script>document.write('<link rel="stylesheet" href="css/gene_collection_manager.' + (new Date()).getTime() + '.css" />');</script>
</head>
<body>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div id="main_layout_c" class="columns is-fullheight">
        <!--#include virtual="/include/primary_nav.html" -->
        <section id="main_c" class="column pl-0">
            <!--#include virtual="/include/header_bar.html" -->
            <section id="content_c" class="m-3 container">
                <article id="not_logged_in_msg" class="message is-danger is-hidden">
                    <div class="message-body">
                        You must be logged in as a user to create new gene collections.
                    </div>
                </article>

                <div class="columns">
                    <div class="column is-fifth">
                        <!-- Create new gene cart button -->
                        <div class="field">
                            <div class="control">
                                <button id="create_new_gene_collection" class="button is-primary is-fullwidth">
                                    <span class="icon">
                                        <i class="mdi mdi-plus"></i>
                                    </span>
                                    <span>Create new gene collection</span>
                                </button>
                            </div>
                        </div>

                        <!-- search field -->
                        <div class="field">
                            <label class="label">Find gene collections</label>
                            <div class="control has-icons-right">
                                <input id="search_terms" class="input" type="text" placeholder="Keyword search">
                                <span class="icon is-hidden is-right is-clickable" id="search_clear">
                                    <i class="mdi mdi-close-circle"></i>
                                </span>
                            </div>
                        </div>

                        <!-- filter options -->
                        <div class="field">
                            <div id="controls_ownership" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold js-expandable-control">
                                    <span>Ownership</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target">
                                    <li class="js-all-selector">All</li>
                                    <li class="js-selected" id="your_gene_collection_filter" data-dbval="yours">Your collections</li>
                                    <li data-dbval="group">Group-affiliated collections</li>
                                    <li data-dbval="shared">Collections shared with you</li>
                                    <li data-dbval="public">Public collections</li>
                                </ul>
                            </div>
                        </div>

                        <div class="field">
                            <div id="controls_organism" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold  js-expandable-control">
                                    <span>Organism</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target" id="organism_choices">
                                    <li class="js-all-selector js-selected">All</li>
                                    <!-- list built by js -->
                                </ul>
                            </div>
                        </div>

                        <div class="field">
                            <div id="controls_date_added" class="js-filter-subsection is-clickable">
                                <p class="has-text-weight-semibold  js-expandable-control">
                                    <span>Date added</span>
                                    <span class="icon is-pulled-right">
                                        <i class="mdi mdi-minus"></i>
                                    </span>
                                </p>
                                <hr class="my-2 has-background-grey-lighter">
                                <ul class="js-expandable-target js-choose-only-one">
                                    <li class="js-all-selector js-selected">Any time</li>
                                    <li data-dbval="week">Within last week</li>
                                    <li data-dbval="month">Within last month</li>
                                    <li data-dbval="year">Within last year</li>
                                </ul>
                            </div>
                        </div>

                    </div>

                    <div class="column is-four-fifths">

                        <!-- create collection view -->
                        <section id="create_collection_container" class="is-hidden">
                            <section id="new collection_cards" class="columns">
                                <div class="card column has-background-light is-flex is-flex-direction-column">
                                    <header class="card-header">
                                        <p class="card-header-title has-text-dark js-new-collection-header" id="new_collection_unweighted_header">
                                            Unweighted gene collection
                                        </p>
                                    </header>
                                    <div class="card-content is-flex-grow-1">
                                        <div class="content has-text-dark">
                                            This is a list of gene symbols only, possibly the most common type of gene collection.
                                        </div>
                                    </div>
                                    <footer class="card-footer">
                                        <div class="buttons card-footer-item">
                                            <button class="button is-primary js-upload-gc-btn" id="btn_gc_paste_unweighted_list">Paste list of genes</button>
                                            <button class="button is-primary js-upload-gc-btn" id="btn_gc_upload_unweighted_list">Upload file</button>
                                        </div>
                                    </footer>
                                </div>

                                <div class="card column has-background-light is-flex is-flex-direction-column">
                                    <header class="card-header">
                                        <p class="card-header-title has-text-dark js-new-collection-header" id="new_collection_weighted_header">
                                            Weighted gene collection
                                        </p>
                                    </header>
                                    <div class="card-content is-flex-grow-1">
                                        <div class="content has-text-dark">
                                            Upload a gene list with associated weights. For example, from a dataset's principal component analysis
                                        </div>
                                    </div>
                                    <footer class="card-footer">
                                        <div class="buttons card-footer-item">
                                            <button class="button is-primary js-upload-gc-btn" id="btn_gc_upload_weighted_list">Upload file</button>
                                        </div>
                                    </footer>
                                </div>

                                <div class="card column has-background-light is-flex is-flex-direction-column">
                                    <header class="card-header">
                                        <p class="card-header-title has-text-dark js-new-collection-header" id="new_collection_labeled_header">
                                            Labeled gene collection
                                        </p>
                                    </header>
                                    <div class="card-content is-flex-grow-1">
                                        <div class="content has-text-dark">
                                            <p class="is-subtitle has-text-weight-semibold">COMING SOON</p>
                                            Upload a file containing a list of genes and associated labels. For example, marker genes for cell types
                                        </div>
                                    </div>
                                    <footer class="card-footer">
                                        <div class="buttons card-footer-item">
                                            <button class="button is-primary js-upload-gc-btn" id="btn_gc_upload_labeled_list" disabled>Upload file</button>
                                        </div>
                                    </footer>
                                </div>
                            </section>

                            <!-- New gene cart form -->
                            <div class="section is-hidden" id="new_collection_form_c">
                                <div class="is-5 title">New gene collection information</div>
                                <input type="hidden" id="new_collection_upload_type" name="new_collection_upload_type" value="" />

                                <div class="columns">
                                    <div class="column is-5">
                                        <div class="field">
                                            <label class="label" for="new_collection_label">Name of collection</label>
                                            <div class="control">
                                                <input type="text" class="input" id="new_collection_label" name="new_collection_label" placeholder="" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="column is-4">
                                    <div class="field">
                                            <label class="label" for="new_collection_organism_id">Organism</label>
                                            <div class="control">
                                                <div class="select">
                                                    <select id="new_collection_organism_id" name="new_collection_organism_id"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="column is-3">
                                        <div class="field">
                                            <p class="label">Visibility</p>
                                            <!-- toggle switch --->
                                            <input type="checkbox" class="switch is-primary" name="new_collection_visibility" id="new_collection_visibility"/>
                                            <label for="new_collection_visibility"></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="field">
                                    <label class="label" for="new_collection_ldesc">Longer description</label>
                                    <div class="control">
                                        <textarea class="textarea" id="new_collection_ldesc" name="new_collection_ldesc" rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="field" id="new_collection_upload_c">
                                    <label class="label">Upload gene list
                                        <a id="collection_upload_reqs" tabindex="0" class="button is-small is-text has-text-gear-bg-secondary" role="button" data-target="collection_upload_reqs_modal">Click for requirements</a>

                                    </label>
                                    <div class="field">
                                        <div class="control">
                                            <div id="file_upload_c" class="file">
                                                <label for="new_collection_file" class="file-label">
                                                    <input class="file-input" name="new_collection_file" type="file" id="new_collection_file"/>
                                                    <span class="file-cta">
                                                        <span class="file-icon">
                                                            <i class="mdi mdi-upload"></i>
                                                        </span>
                                                        <span class="file-label">
                                                            Choose a file…
                                                        </span>
                                                    </span>
                                                </label>
                                                <span class="file-name is-hidden" id="new_collection_file_name"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="field is-hidden" id="new_collection_pasted_genes_c">
                                    <label class="label" for="new_collection_pasted_genes">Paste gene symbols, separated by commas, spaces or on separate lines</label>
                                    <div class="control">
                                        <textarea class="textarea" id="new_collection_pasted_genes" name="new_collection_pasted_genes" rows="3" placeholder="Example: Sox2 Pou4f3 Rfx7"></textarea>
                                    </div>
                                </div>
                                <div class="field is-grouped">
                                    <p class="control">
                                        <button class="button is-primary" id="btn_new_collection_save">Save</button>
                                    </p>
                                    <p class="control">
                                        <button class="button is-primary is-outlined" id="btn_new_collection_cancel">Cancel</button>
                                    </p>
                                </div>
                            </div>
                        </section>

                        <!-- Count and view control -->
                        <section id="view_controls" class="level">
                            <div class="level-left">
                                <div class="level-item">
                                    <div class="field is-horizontal">
                                        <div class="field-label">
                                            <label class="label">View:</label>
                                        </div>
                                        <div class="field-body">
                                            <div class="buttons has-addons" role="group" aria-label="Gene cart list view preference">
                                                <button type="button" id="btn_list_view_compact" class="button is-small is-gear-bg-secondary" aria-label="Compact view" data-toggle="popover" data-toggle="tooltip" data-placement="top" title="Compact view">
                                                    <span class="icon is-small">
                                                        <i class="mdi mdi-format-list-bulleted"></i>
                                                    </span>
                                                </button>
                                                <button type="button" id="btn_list_view_expanded" class="button is-small is-dark" aria-label="Expanded view" data-toggle="popover" data-toggle="tooltip" data-placement="top" title="Expanded view">
                                                    <span class="icon is-small">
                                                        <i class="mdi mdi-window-maximize"></i>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="level-item">
                                    <label class="label mr-3">Sort by:</label>  <!-- .field.is-horizontal + .field-label scrunches the label up -->
                                    <div class="field">
                                        <div class="control">
                                            <div class="select is-small">
                                                <select name="sort_by" id="sort_by">
                                                    <option value="relevance">Relevance</option>
                                                    <option value="title">Gene cart title</option>
                                                    <option value="date_added" selected>Date created</option>
                                                    <option value="owner">Owner</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="level-right">
                                <div class="level-item">
                                    <div id="gc_count_label_c" class="is-hidden">
                                        <span id="gc_count_label">Showing <span id="result_range"></span> of <span id="result_count"></span> <span id="result_label"></span></span>
                                    </div>
                                </div>
                                <div class="level-item">
                                    <!-- ? May change to numbers if genecarts get too numerous -->
                                    <nav id="pagination_container" class="pagination is-small" role="navigation" aria-label="pagination">
                                    </nav>
                                </div>
                            </div>

                        </section> <!-- #view_controls -->

                        <!-- results view -->
                        <section id="results_container">
                            <template id="results_view">
                                <!-- parts filled in by js -->
                                <div class="js-gc-list-element">
                                    <!-- title section -->
                                    <div class="columns">
                                        <div class="column is-11 py-0">
                                            <div class="js-display-version js-display-title">
                                                <p class="has-text-weight-bold"></p>
                                            </div>
                                            <div id="editable_title_c" class="js-editable-version js-editable-title is-hidden">
                                                <div class="field">
                                                    <span class="has-text-weight-semibold">Title</span>
                                                    <input type="text" class="input"/>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="column is-1 py-0">
                                            <span class="is-clickable is-pulled-right js-expand-box icon"><i class="mdi mdi-arrow-expand"></i></span>
                                        </div>
                                    </div>

                                    <!-- visibility/other metadata section -->
                                    <div class="columns is-size-7">
                                        <div class="column is-3 py-0">
                                            <div class="js-display-version js-display-visibility"></div>
                                            <div class="js-editable-version js-editable-visibility is-hidden">
                                                <div class="field">
                                                    <p class="label">Visibility</p>
                                                    <!-- toggle switch --->
                                                    <input type="checkbox" class="switch is-primary"/>
                                                    <label></label>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- organism section -->
                                        <div class="column is-3 py-0">
                                            <div class="js-display-version js-display-organism">
                                                <span class="has-text-weight-semibold">Organism</span> <span></span>
                                            </div>
                                            <div class="js-editable-version js-editable-organism is-hidden">
                                                <div class="field">
                                                    <label class="label" for="result_gc_id_${geneCollectionId}_editable_organism_id">Organism</label>
                                                    <div class="control">
                                                        <div class="select">
                                                            <select></select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="column is-3 py-0">
                                            <div class="js-display-version js-display-owner">
                                                <span class="has-text-weight-semibold">Owner</span> <span></span>
                                            </div>
                                            <div class="js-editable-version js-editable-owner is-hidden">
                                                <div class="field">
                                                    <label class="label">Owner</label>
                                                    <div class="control">
                                                        <input class="input is-static" value="${userName}" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="column is-3 py-0">
                                            <div class="js-display-version js-display-date-added"><span class="has-text-weight-semibold">Added</span> <span></span></div>
                                            <div class="js-editable-version js-editable-date-added is-hidden">
                                                <div class="field">
                                                    <label class="label">Added</label>
                                                    <div class="control">
                                                        <input class="input is-static" value="${dateAdded}" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- preview + action buttons section -->
                                    <div class="columns is-size-7 my-0">
                                        <div class="column is-3 py-0">
                                            <div class="js-preview-genes-button-container"></div>
                                        </div>
                                        <div class="column is-9 py-0">
                                            <div class="columns my-0">
                                                <div class="column is-two-thirds py-0">
                                                    <div class="field has-addons js-action-links my-0" role="group">
                                                        <p class="control">
                                                            <button class="button is-small is-outlined is-dark js-view-gc" data-tooltip-content="View on front page">
                                                                <span class="icon is-small"><i class="mdi mdi-eye"></i></span>
                                                            </button>
                                                        </p>
                                                        <p class="control">
                                                            <button class="button is-small is-outlined is-danger js-delete-gc" data-tooltip-content="Delete collection">
                                                                <span class="icon is-small"><i class="mdi mdi-delete"></i></span>
                                                            </button>
                                                        </p>
                                                        <p class="control">
                                                            <button class="button is-small is-outlined is-dark js-download-gc" data-tooltip-content="Download collection as tsv">
                                                                <span class="icon is-small"><i class="mdi mdi-download"></i></span>
                                                            </button>
                                                        </p>
                                                        <p class="control">
                                                            <button class="button is-small is-outlined is-dark js-share-gc" data-tooltip-content="Get shareable link">
                                                                <span class="icon is-small"><i class="mdi mdi-share-variant"></i></span>
                                                            </button>
                                                        </p>
                                                        <p class="control">
                                                            <button class="button is-small is-outlined is-dark js-edit-gc js-display-version" data-tooltip-content="Edit collection metadata">
                                                                <span class="icon is-small"><i class="mdi mdi-pencil"></i></span>
                                                            </button>
                                                        </p>
                                                    </div>
                                                    <div class="field has-addons" role="group">
                                                        <p class="control">
                                                            <button class="button is-primary js-edit-gc-save js-editable-version is-hidden" data-gc-id="${geneCollectionId}">
                                                                <span class="icon"><i class="mdi mdi-content-save-edit-outline"></i></span><span>Save edits</span>
                                                            </button>
                                                        </p>
                                                        <p class="control">
                                                            <button class="button is-outlined is-primary js-edit-gc-cancel js-editable-version is-hidden" data-gc-id="${geneCollectionId}">
                                                                <span class="icon"><i class="mdi mdi-undo-variant"></i></span><span>Cancel edits</span>
                                                            </button>
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="column is-one-third py-0">
                                                    <div class="js-display-version js-display-gctype">
                                                        <span class="has-text-weight-semibold">Type</span> <span></span>
                                                    </div>
                                                    <div class="js-editable-version js-editable-gctype is-hidden">
                                                        <div class="field">
                                                            <label class="label">Type</label>
                                                            <div class="control">
                                                                <input class="input is-static" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> <!-- end .columns -->
                                            <!-- Info on actions (e.g. "URL copied to clipboard") -->
                                            <span class="js-gc-action-note is-hidden"></span>
                                        </div>

                                    </div> <!-- end .columns -->

                                    <!-- Gene preview section -->
                                    <div class="js-preview-genes-container is-hidden"></div>
                                    <hr class="js-expandable-view is-hidden" />
                                    <!-- Long description section -->
                                    <div class="columns js-expandable-view is-hidden">
                                        <div class="column is-3 py-0"></div>
                                        <div class="column is-9 py-0 js-display-version js-display-ldesc">
                                            <p class="has-text-weight-semibold">Long description</p>
                                        </div>
                                        <div class="column is-9 py-0 js-editable-version js-editable-ldesc is-hidden">
                                            <div class="field">
                                                <label class="label">Long description</label>
                                                <div class="control">
                                                    <textarea class="textarea" rows="4"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> <!-- end .js-gc-list-element -->
                                <hr class="gc-list-element-divider mb-2 has-background-grey-lighter" />
                            </template>
                        </section>
                        <nav id="below_pagination_container" class="pagination is-small is-pulled-right" role="navigation" aria-label="pagination">
                        </nav>


                    </div>
                </div>

            </section>
        </section>
    </div>

    <div class="modal" id="collection_upload_reqs_modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">File upload requirements</p>
                <button class="delete" aria-label="close"></button>
            </header>
            <section class="modal-card-body">
            <!-- Content ... -->
                <div class="content">

                <template id="unweighted_example">
                    <p>Genes in the file must be separated by either commas, spaces, tab-indented, or on separate lines.</p>
                    <p>gEAR will determine the Ensembl ID for each gene based on the organism selected.</p>

                    <h5>Example</h5>
                    <p>Pou4f3, Sox2, Atoh1</p>

                    <h5>Example 2</h5>
                    <p>
                        Pou4f3<br />
                        Sox2<br />
                        Atoh1
                    </p>
                </template>

                <template id="weighted_example">
                    <ul>
                        <li>File upload must be in CSV, TAB, or Excel-format only.</li>
                        <li>A header row of columns is required. The names are not important but the third-column name onwards will be used as weight names.</li>
                        <li>The first column must be unique gene identifiers. This is needed for potential cross-organism mapping with datasets.</li>
                        <li>The second column must be gene symbols.</li>
                        <li>All columns beyond the second must be numeric weights.</li>
                        <li>The file will be parsed and validated before being uploaded.</li>
                    </ul>

                    <h5>Example</h5>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ensembl_id</th>
                                <th>gene_symbol</th>
                                <th>PC1</th>
                                <th>PC2</th>
                                <th>MyCoolMetric</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ENSG00000000003</td>
                                <td>TSPAN6</td>
                                <td>0.1</td>
                                <td>-0.2</td>
                                <td>3</td>
                            </tr>
                            <tr>
                                <td>ENSG00000000005</td>
                                <td>TSPAN5</td>
                                <td>0.4</td>
                                <td>0.5</td>
                                <td>6</td>
                            </tr>
                            <tr>
                                <td>ENSG00000000419</td>
                                <td>DPM1</td>
                                <td>0.7</td>
                                <td>-0.8</td>
                                <td>9</td>
                            </tr>
                            <tr>
                                <td>ENSG00000000457</td>
                                <td>SCYL3</td>
                                <td>1.0</td>
                                <td>-1.1</td>
                                <td>12</td>
                            </tr>
                        </tbody>
                    </table>
                </template>

                <template id="labeled_example">
                    <ul>
                        <li>File upload must be in Excel-format only.</li>
                        <li>A header row of columns is required.</li>
                        <li>The header name in each column is the label of the list of genes (i.e. marker gene names).</li>
                        <li>The second row onwards is the gene symbols for that label. The label must have at least one gene symbol. Ensembl IDs are not needed.</li>
                        <li>The file will be parsed and validated before being uploaded.</li>
                    </ul>

                    <h5>Example</h5>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Astrocytes</th>
                                <th>Neurons</th>
                                <th>Microglia</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>AQP4</td>
                                <td>APOE</td>
                            </tr>
                            <tr>
                                <td>GRIN2A</td>
                                <td>SLA</td>
                                <td>SNAP25</td>
                            </tr>
                            <tr>
                                <td>CSF1</td>
                                <td>CSF1R</td>
                                <td>IL6</td>
                                <td>TNFA</td>
                            </tr>
                        </tbody>
                    </table>
                </template>

                </div>
            </section>
            <footer class="modal-card-foot">
                <button class="button">Close</button>
            </footer>
        </div>
    </div>


    <!-- Promise based HTTP client for the browser  -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script src="js/vendor/js.cookie.js"></script>

    <!-- Floating UI for tooltips, popovers, etc -->
    <script src="https://cdn.jsdelivr.net/npm/@floating-ui/core@1.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.5.3"></script>

    <!-- Helps ensure the user gets the latest code, needed while we're pushing out so many updates -->
    <script>document.write('<script src="js/classes/user.v2.' + (new Date()).getTime() + '.js"><\/script>');</script>
    <script>document.write('<script src="js/classes/genecart.v2.' + (new Date()).getTime() + '.js"><\/script>');</script>


    <!-- Helps ensure the user gets the latest code, needed while we're pushing out so many updates -->
    <script>document.write('<script src="js/common.v2.' + (new Date()).getTime() + '.js"><\/script>');</script>

    <!-- Page-specific JS file here -->
    <script>document.write('<script src="js/gene_collection_manager.' + (new Date()).getTime() + '.js"><\/script>');</script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-59916932-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-59916932-1');
    </script>
</body>
</html>
