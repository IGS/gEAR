<!--
    How to include:

    Just add the following line to the page you want to include this component in (but with a proper
    comment tag, since this is already within a comment!):

      <!- - #include virtual="/include/pattern-collection-selector/pattern-collection-selector.html" - ->

    This creates the following top-level variables:

    - selected_carts: The selected carts - An array of select cart share ids.
    - selected_patterns: The selected individal patterns, unique merge of all patterns in carts and manually entered.
    - pattern_cart_data: The output of the apiCallsMixin.fetchpatternCartData() call, which needs to
      happen in the login UI handler of the page.
    - pattern_cart_patterns: An index of all pattern carts loaded and their patterns.
    - pattern_cart_label_index: A map of pattern cart share ids to their labels.

    Requirements for importing this component:

    - There are no other elements on the page with ID: 'dropdown-pattern-lists'
    - apiCallsMixin.fetchpatternCartData() must be called in the login UI handler of the page.

-->

<link rel="stylesheet" href="include/pattern-collection-selector/pattern-collection-selector.css" />
<div id="dropdown-pattern-lists" class="control dropdown is-loading is-disabled mr-0">
    <button class="button dropdown-trigger">
      <span id="dropdown-pattern-list-selector-label">Search for a pattern</span>
      <span class="icon is-small">
        <i class="mdi mdi-chevron-down" aria-hidden="true"></i>
      </span>
    </button>
    <div class="dropdown-menu" role="menu">
      <div class="dropdown-content">
        <div class="dropdown-item">
          <div class="field">
            <p class="control has-icons-left">
              <input class="input" type="input" id="dropdown-pattern-list-search-input" placeholder="Search and select a Pattern">
              <span class="icon is-small is-left">
                <i class="mdi mdi-magnify"></i>
              </span>
            </p>
          </div>
        </div>
        <hr class="dropdown-divider">
        <div class="dropdown-item">
          <div class="columns is-mobile">
            <div class="column is-one-third is-scrollable">
              <h3>Saved Items</h3>
              <div id="dropdown-content-pattern-list-category" class="ul-replacement">
                <div class="ul-li is-clickable" data-category="favorites">
                  Favorites
                  <span class="icon is-pulled-right"><i class="mdi mdi-18px mdi-chevron-right"></i></span>
                </div>
                <div class="ul-li is-clickable" data-category="recent">
                  Recent
                  <span class="icon is-pulled-right"><i class="mdi mdi-18px mdi-chevron-right"></i></span>
                </div>
                <div class="ul-li is-clickable" data-category="saved">
                  Saved patterns
                  <span class="icon is-pulled-right"><i class="mdi mdi-18px mdi-chevron-right"></i></span>
                </div>
                <div class="ul-li is-clickable" data-category="shared">
                  Shared patterns
                  <span class="icon is-pulled-right"><i class="mdi mdi-18px mdi-chevron-right"></i></span>
                </div>
              </div>
            </div>
            <div class="column is-two-thirds is-scrollable">
              <h3>Pattern Source</h3>
              <div id="dropdown-content-pattern-lists" class="ul-replacement"></div>
            </div>
            <template id="tmpl-pattern-list-item">
              <div class="ul-li dropdown-pattern-list-item is-clickable columns" data-share-id="" data-patterns="">
                <div class="column is-one-quarter mr-2">
                  <span class="tag is-light"></span>
                </div>
                <div class="column is-three-quarters">
                  <span class="pattern-list-item-label"></span>
                </div>
              </div>
            </template>
          </div>
        </div>
        <div class="dropdown-item">
          <hr class="dropdown-divider mb-0 pb-0">
        </div>
        <div class="dropdown-item">
          <div class="columns">
            <div class="column is-10"></div>
            <div class="column is-2">
              <button id="dropdown-pattern-list-cancel" class="button is-secondary is-rounded is-small">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
<script type="text/javascript" src="include/pattern-collection-selector/pattern-collection-selector.js"></script>