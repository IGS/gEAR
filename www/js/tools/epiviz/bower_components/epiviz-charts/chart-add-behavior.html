<!-- External Polymer Styles/elements dependency -->
<!--<link rel="import" href="../iron-icons/iron-icons.html">-->
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<!-- Epiviz element dependency -->
<link rel="import" href="epiviz-add-chart.html">

<script>
    /**
     * `ChartAddBehavior` object manages the `<epiviz-add-chart>` element. 
     * Environment and Navigation elements inherit this behavior to add a new chart.
     *
     * @polymerBehavior
    **/

    EpivizChartAddBehavior = function (superClass) {
        return class extends superClass {
            constructor() {
                super();
            }

            static get properties() {
                return {};
            }

            /**
             * Shows the `<epiviz-add-chart>` element
             */
            _showAddDialog() { }

            /**
             * Initializes the `<epiviz-add-chart>` element
             */
            _initializeAddDialog() {
                var chartContainer = this.$.header;
                var currAddElem = this.shadowRoot.querySelector('epiviz-add-chart');

                if (currAddElem) {
                    var dataManagerElem = document.querySelector('epiviz-data-source');
                    if (dataManagerElem) {
                        Polymer.dom(currAddElem).measurements = dataManagerElem.measurementSet;
                    }
                }
            }

            /**
             * Intializes chart container DOM element for settings and colors elements.
             */
            _initializeDialogContainer() { }

            ready() {
                super.ready();
                this._initializeDialogContainer();
            }
        }
    }
</script>