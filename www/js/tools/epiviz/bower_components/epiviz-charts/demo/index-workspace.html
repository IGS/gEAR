<!doctype html>
<html>
  <head>
    <title> epiviz-environment demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../epiviz-environment.html">
    <link rel="import" href="../../epiviz-data-source/epiviz-data-source.html">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="import" href="../epiviz-charts.html">
  </head>
  <body>
      <h3>epiviz-environment Workspace Demo</h3>
      
          <epiviz-data-source provider-type="epiviz.data.WebServerDataProvider" provider-id="umd" provider-url="http://epiviz-dev.cbcb.umd.edu/api/"></epiviz-data-source>

          <epiviz-environment 
            chr="chr6"
            id="chartEnv"
            start="64076201"
            end="95088740" 
            measurements='{"affy1":{
                    "id":"cancer",
                    "name":"Expression Colon Cancer",
                    "type":"feature",
                    "datasourceId":"gene_expression",
                    "datasourceGroup":"affymetrix_probeset",
                    "dataprovider":"umd",
                    "formula":null,
                    "defaultChartType":null,
                    "annotation":null,
                    "minValue":-3,
                    "maxValue":20,
                    "metadata":["probe"]
                },
                "affy2":{
                    "id":"normal",
                    "name":"Expression Colon Normal",
                    "type":"feature",
                    "datasourceId":"gene_expression",
                    "datasourceGroup":"affymetrix_probeset",
                    "dataprovider":"umd",
                    "formula":null,
                    "defaultChartType":null,
                    "annotation":null,
                    "minValue":-3,
                    "maxValue":20,
                    "metadata":["probe"]
                },
                "genes": {
                    "id": "genes",
                    "name": "Genes",
                    "type": "range",
                    "datasourceId": "genes",
                    "datasourceGroup": "genes",
                    "dataprovider": "umd",
                    "formula": null,
                    "defaultChartType": "Genes Track",
                    "annotation": null,
                    "minValue": null,
                    "maxValue": null,
                    "metadata": ["gene", "entrez", "exon_starts", "exon_ends"]
                }
              }'>
                <epiviz-genes-track class="charts" dim-s='["genes"]'></epiviz-genes-track>
                <epiviz-scatter-plot class="charts" dim-s='["affy1", "affy2"]'></epiviz-scatter-plot>
                <epiviz-navigation                   
                    chr="chr6"
                    start="64076201"
                    end="95088740"
                    class="charts"
                    >
                      <epiviz-genes-track class="charts" dim-s='["genes"]'></epiviz-genes-track>
                      <epiviz-scatter-plot class="charts" dim-s='["affy1", "affy2"]'></epiviz-scatter-plot>
                </epiviz-navigation>
          </epiviz-environment>


          <h3>Load from workspace</h3>
          <!--<epiviz-environment
            workspace='{"measurements":{"affy1":{"id":"cancer","name":"Expression Colon Cancer","type":"feature","datasourceId":"gene_expression","datasourceGroup":"affymetrix_probeset","dataprovider":"umd","formula":null,"defaultChartType":null,"annotation":null,"minValue":-3,"maxValue":20,"metadata":["probe"]},"affy2":{"id":"normal","name":"Expression Colon Normal","type":"feature","datasourceId":"gene_expression","datasourceGroup":"affymetrix_probeset","dataprovider":"umd","formula":null,"defaultChartType":null,"annotation":null,"minValue":-3,"maxValue":20,"metadata":["probe"]},"genes":{"id":"genes","name":"Genes","type":"range","datasourceId":"genes","datasourceGroup":"genes","dataprovider":"umd","formula":null,"defaultChartType":"Genes Track","annotation":null,"minValue":null,"maxValue":null,"metadata":["gene","entrez","exon_starts","exon_ends"]}},"chr":"chr6","start":0,"end":170805979,"children":{"epiviz-Q94DHIU":{"node":"EPIVIZ-GENES-TRACK","measurements":[{"id":"genes","name":"Genes","type":"range","datasourceId":"genes","datasourceGroup":"genes","dataprovider":"umd","formula":null,"defaultChartType":"Genes Track","annotation":null,"minValue":null,"maxValue":null,"metadata":["gene","entrez","exon_starts","exon_ends"]}],"dims":["genes"],"chartSettings":{"title":"","marginTop":25,"marginBottom":23,"marginLeft":20,"marginRight":10},"chartColors":["#f9a65a","#599ad3","#79c36a","#f1595f","#727272","#cd7058","#d77fb3"]},"epiviz-Q6suwz2":{"chr":"chr6","start":64076201,"end":95088740,"node":"EPIVIZ-NAVIGATION","children":{"epiviz-JpkJ7FA":{"node":"EPIVIZ-GENES-TRACK","measurements":[{"id":"genes","name":"Genes","type":"range","datasourceId":"genes","datasourceGroup":"genes","dataprovider":"umd","formula":null,"defaultChartType":"Genes Track","annotation":null,"minValue":null,"maxValue":null,"metadata":["gene","entrez","exon_starts","exon_ends"]}],"dims":["genes"],"chartSettings":{"title":"","marginTop":25,"marginBottom":23,"marginLeft":20,"marginRight":10},"chartColors":["#f9a65a","#599ad3","#79c36a","#f1595f","#727272","#cd7058","#d77fb3"]},"epiviz-aiPSIF4":{"node":"EPIVIZ-SCATTER-PLOT","measurements":[{"id":"cancer","name":"Expression Colon Cancer","type":"feature","datasourceId":"gene_expression","datasourceGroup":"affymetrix_probeset","dataprovider":"umd","formula":null,"defaultChartType":null,"annotation":null,"minValue":-3,"maxValue":20,"metadata":["probe"]},{"id":"normal","name":"Expression Colon Normal","type":"feature","datasourceId":"gene_expression","datasourceGroup":"affymetrix_probeset","dataprovider":"umd","formula":null,"defaultChartType":null,"annotation":null,"minValue":-3,"maxValue":20,"metadata":["probe"]}],"dims":["affy1","affy2"],"chartSettings":{"title":"","marginTop":15,"marginBottom":50,"marginLeft":50,"marginRight":15,"measurementGroupsAggregator":"mean-stdev","circleRadiusRatio":0.01,"xMin":"default","xMax":"default","yMin":"default","yMax":"default","abLine":"default"},"chartColors":["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]}}}}}'
          ></epiviz-environment>-->
  </body>
</html>
